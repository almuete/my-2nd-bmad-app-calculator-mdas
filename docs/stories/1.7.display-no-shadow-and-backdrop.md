# 1.7 — Remove shadow and backdrop in calculator display

## Story
As a calculator user, I want the display panel to be flat (no shadow or blur) so the expression and result are clearer and the UI has less visual noise.

## Rationale
- Client request to standardize on a flat surface for the display area (no glassmorphism).
- Improves clarity and reduces visual noise without changing calculator logic or behavior.
- Ensures consistent readability in light and dark themes.

## Acceptance Criteria
- [x] No box-shadow is applied to the display container.
- [x] No backdrop blur (`backdrop-filter` / `backdrop-blur-*`) is applied to the display container.
- [x] Display background is opaque (non-translucent) and uses the standard surface token without glass/tint.
- [x] Expression/result text readability and contrast remain ≥4.5:1 in light and dark modes.
- [x] Visual snapshots updated to reflect flat, non-glass display; no unrelated regressions.
- [x] No change to MDAS logic, layout structure, keyboard support, or ARIA/labels.
- [x] Works on Desktop and Mobile Chrome baselines without layout shift or overflow.
- [x] No performance regressions (paint/layout) attributable to display styling changes.

## Tasks
- Update display container styles in `components/calculator/Display.tsx` to remove any `shadow-*`, `backdrop-blur-*`, translucency, or glass/tint classes; use the standard surface token.
- Verify no functional changes to MDAS logic, layout, or keyboard/a11y behavior.
- Run and update visual tests (`tests/visual/calculator.spec.ts` snapshots for Desktop/Mobile Chrome).
- Validate contrast in light/dark; ensure Lighthouse a11y ≥95 and contrast ≥4.5:1.
- Add/adjust unit tests in `tests/Display.test.tsx` to ensure the display container does not render shadow or backdrop-blur classes and maintains ARIA semantics.

## Impacted Artifacts
- `components/calculator/Display.tsx`
- Unit tests: `tests/Display.test.tsx`
- Visual tests: `tests/visual/calculator.spec.ts` and snapshots
- Docs: `docs/RELEASE_NOTES.md` (add note for 1.7 change)

## Risks & Mitigations
- Risk: Contrast/readability regressions in dark mode → Mitigation: verify against theme tokens; adjust text/surface tokens if needed.
- Risk: Visual snapshot churn → Mitigation: update snapshots in a single coordinated change; review diffs carefully.
- Risk: Unintended class removal affecting focus ring → Mitigation: keep focus ring styles intact; explicitly test focus-visible ring.

## Definition of Done
- All acceptance criteria met across light and dark modes on Desktop and Mobile Chrome.
- Unit tests pass and include assertions for no shadow/backdrop-blur on display container.
- Visual tests updated and approved; no unrelated diffs.
- Accessibility checks pass (Lighthouse ≥95; contrast ≥4.5:1).
- Documentation updated (release notes).
- Changes merged to `main` and verified on staging.

## References
- PRD Shard: `docs/prd/shard-1.7-display-no-shadow-and-backdrop.md`
- Baseline display story: `docs/stories/1.1.dual-line-display.md`
- Global AC: `docs/prd/07-acceptance-criteria.md`

## Status
Passed


